<div>
  <div id="cart" hx-get="/api/cart/4ecfd722-3735-430d-b7ec-1b4a2e8cc61d"
       hx-trigger="load" mustache-template="cart-template"></div>

  <template id="cart-template">
    <div>
      <p>{{lineItems.length}}</p>
      <p>{{id}}</p>
    </div>
  </template>
  <script>
    window.addEventListener("load", async () => {
      const cart = localStorage.getItem("cart");
      if (!cart) {
        const res = await fetch('/api/cart');
        const data = await res.json();
        localStorage.setItem("cart", data.id);
      } else {
        window.cart = cart;
      }
    })
  </script>
</div>
